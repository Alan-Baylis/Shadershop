highlightColor = #09c
plotBackgroundColor = #FAF8F2

PlusButtonSize = 18px

DisclosureTriangleSize = 12px
SpacingSize = 6px


pointControlSize = 12px

ShaderOverlayZIndex = 10
PointControlZIndex = 20




inline(va)
  display inline-block
  vertical-align va

shadow(size, opacity)
  box-shadow 0px size 2*size rgba(0, 0, 0, opacity)


// ============================================================================
// Generic
// ============================================================================

html, body
  margin 0

[contenteditable]:active, [contenteditable]:focus, button:active, button:focus
  outline none

body
  font-family "Lucida Sans Unicode", "Lucida Grande", sans-serif
  font-size 12px

canvas, .Shader
  position absolute
  top 0
  left 0
  width 100%
  height 100%


// Kill scrollbars in webkit...
::-webkit-scrollbar {
    width: 0px;
    height: 0px;
}






// ============================================================================
// Main Layout
// ============================================================================

.ShaderOverlay
  z-index ShaderOverlayZIndex
  pointer-events none

.Definitions
  inline top
  height 100vh
  overflow-x hidden
  overflow-y auto

.MainPlot
  inline top
  position relative
  width 100vh
  height 100vh

.Outline
  inline top
  height 100vh


// ============================================================================
// Definitions
// ============================================================================

.Definition
  margin 12px

  .PlotContainer
    position relative
    box-sizing border-box
    width 72px
    height 72px
    shadow 1px 0.2

  &.Selected
    .PlotContainer
      outline 1px solid highlightColor
      shadow 1px 0.5

  .Label
    width 72px
    margin-top 4px
    text-align center

.Divider
  border-bottom 1px solid #eee

.AddDefinition
  margin 12px
  width 72px
  text-align center


// ============================================================================
// Main Plot
// ============================================================================

.PlotContainer
  position absolute
  top 0
  left 0
  width 100%
  height 100%
  background-color plotBackgroundColor
  overflow hidden

.PointControl
  position absolute
  width pointControlSize
  height pointControlSize
  margin-left -0.5 * pointControlSize
  margin-top -0.5 * pointControlSize
  border-radius 0.5 * pointControlSize
  background-color highlightColor
  opacity 0.25
  z-index PointControlZIndex
  &:hover
    opacity 1


// ============================================================================
// Outline
// ============================================================================

.OutlineItem
  &.Selected
    > :first-child .OutlineInternals
      background-color tint(highlightColor, 90%)


.OutlineChildren
  margin-left DisclosureTriangleSize + SpacingSize

.OutlineInternals
  border-bottom 1px solid #ccc
  margin-left DisclosureTriangleSize + SpacingSize

.Variable
  padding 2px 6px
  text-align center

.DisclosureTriangle
  float left
  width 0
  height 0
  margin-top 1px
  border-top: 0.5*DisclosureTriangleSize solid transparent
  border-bottom: 0.5*DisclosureTriangleSize solid transparent
  border-left: 0.866*DisclosureTriangleSize solid #ddd
  transition -webkit-transform 0.05s
  &.Expanded
    -webkit-transform: rotate(90deg)
  &.Hidden
    visibility hidden

// ============================================================================
// Buttons
// ============================================================================

.TextButton
  cursor pointer
  font-size 10px
  &:hover
    color highlightColor

.AddButton
  width PlusButtonSize
  height PlusButtonSize
  padding 0
  line-height PlusButtonSize
  font-size 9px
  color #777
  font-family verdana
  font-weight bold
  text-shadow 0 1px 0 rgba(255,255,255,0.5)
  background-color #ddd
  background-image linear-gradient(to bottom, #eee, #ccc)
  box-shadow 0 2px 1px rgba(0,0,0,0.16), 0 0 1px rgba(0,0,0,0.5), inset 0 1px 0 rgba(255,255,255,0.55)
  border-radius 20px
  border 0px
  &:before
    content "+"
  &:hover
    background-image linear-gradient(to bottom, #f3f3f3, #d3d3d3)
  &:active
    background-image linear-gradient(to bottom, #cacaca, #d5d5d5)
    box-shadow 0 1px 1px rgba(255,255,255,0.35), inset 0 0 1px rgba(0,0,0,0.5), inset 0 1px 4px rgba(0,0,0,0.4)


